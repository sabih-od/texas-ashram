// import $ from "jquery";
// import Swiper from 'swiper';

// Rest of your custom scripts code

// var testimonialSlider = new Swiper('.testimonialSlider', {
//     loop: true,
//     autoplay: true,
//     slidesPerView: 3,
//     spaceBetween: 30,
//     // If we need pagination
//
//     breakpoints: {
//         1024: {
//             slidesPerView: 3,
//             spaceBetween: 30
//         },
//         768: {
//             slidesPerView: 2,
//             spaceBetween: 10
//         },
//         640: {
//             slidesPerView: 1.5,
//             spaceBetween: 8
//         },
//         576: {
//             slidesPerView: 1,
//             spaceBetween: 5
//         },
//         375: {
//             slidesPerView: 1,
//             spaceBetween: 5
//         }
//     },
//
//     // Navigation arrows
//     navigation: {
//         nextEl: '.swiper-button-next',
//         prevEl: '.swiper-button-prev'
//     },
//     pagination: {
//         el: '.swiper-pagination'
//         // type: 'fraction'
//     },
//
//     // And if we need scrollbar
//     scrollbar: {
//         el: '.swiper-scrollbar'
//     }
// });

// var missionSlider = new Swiper('.missionSlider', {
//     loop: true,
//     slidesPerView: 1,
//     spaceBetween: 10,
//     // If we need pagination
//
//     breakpoints: {
//         1024: {
//             slidesPerView: 1,
//             spaceBetween: 10
//         },
//         768: {
//             slidesPerView: 1,
//             spaceBetween: 10
//         },
//         640: {
//             slidesPerView: 1,
//             spaceBetween: 10
//         },
//         576: {
//             slidesPerView: 1,
//             spaceBetween: 10
//         },
//         375: {
//             slidesPerView: 1,
//             spaceBetween: 10
//         }
//     },
//     pagination: {
//         el: ".swiper-pagination",
//     },
//     // Navigation arrows
//     navigation: {
//         nextEl: '.swiper-button-next',
//         prevEl: '.swiper-button-prev'
//     },
//
// });


// AOS.init({
//     duration: 1200
// });


// if (document.querySelectorAll(".tab").length > 0) {
//     showTab(0);
// }
//
// function showTab(n) {
//
//     const tab = document.querySelectorAll(".tab");
//     tab.forEach(ele => {
//         ele.style.display = 'none';
//     })
//     tab[n].style.display = 'block';
//
// }
//
// if (document.querySelectorAll(".loginForm").length > 0) {
//     var login = 0;
//     const loginFormt = document.querySelectorAll(".loginForm");
//     loginFormt[login].style.display = 'block';
//
//     function loginForm() {
//         loginFormt.forEach(ele => {
//             ele.style.display = 'none';
//         })
//         if (login == 0) {
//
//             loginFormt[1].style.display = 'block';
//             login++;
//         } else {
//             loginFormt[0].style.display = 'block';
//             login--;
//         }
//     }
// }
// mainSlider1Init();
//
//
// function mainSlider1Init() {
//     var swiperOptions = {
//         loop: true,
//         speed: 1000,
//         parallax: true,
//         effect: 'fade',
//         autoplay: {
//             delay: 3500,
//             disableOnInteraction: false,
//         },
//         grabCursor: false,
//
//         navigation: {
//             nextEl: '.swiper-button-next',
//             prevEl: '.swiper-button-prev'
//         },
//     }
//
//     var homeSlider = new Swiper('.homeSlider', swiperOptions)
//
//     var pageSection = $('.bg-image')
//     pageSection.each(function (indx) {
//         if ($(this).attr('data-background')) {
//             $(this).css('background-image', 'url(' + $(this).data('background') + ')')
//         }
//     })
// }

export function initializeCustomScripts() {
    let navTimeline;

    function headerMenu() {
        const menuToggler = $('.menu-toggler');
        const target = menuToggler.data('target');
        const navBg = $(target).find('.navigation-bg');
        const navInner = $(target).find('.nav-inner');
        const navLinks = $(target).find('.nav-link');
        const animationTime = 0.5;
        const easeIn = Circ.easeIn;
        const easeOut = Circ.easeOut;
        const easeInOut = Circ.easeInOut;

        if (!navTimeline) {
            navTimeline = gsap.timeline({paused: true})
                .fromTo(
                    target,
                    {top: '-100%', ease: easeIn},
                    {
                        top: '0%',
                        ease: easeOut,
                        onReverseComplete: function () {
                            menuToggler.removeClass('active');
                        }
                    }
                )
                .staggerTo(
                    navBg,
                    animationTime,
                    {width: '100%', ease: easeInOut},
                    0.25
                )
                .fromTo(
                    navInner,
                    animationTime,
                    {right: '-100%', ease: easeIn},
                    {right: '0%', ease: easeOut}
                )
                .staggerFromTo(
                    navLinks,
                    animationTime,
                    {y: '50', opacity: 0},
                    {y: '0', opacity: 1},
                    0.05
                );
        }

        menuToggler.on('click', function () {
            if (menuToggler.hasClass('active')) {
                navTimeline.reverse();
                menuToggler.removeClass('active');
            } else {
                navTimeline.play();
                menuToggler.addClass('active');
            }
        });
    }

    $(document).ready(function () {
        headerMenu();
    });

    // Stop the animation when the page changes
    $(window).on('beforeunload', function () {
        if (navTimeline) {
            navTimeline.kill();
            navTimeline = null;
        }
    });
}